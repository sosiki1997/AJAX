<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AJAX取消请求</title>
</head>
	<style>
		#result{
			width: 200px;
			height: 100px;
			border: solid 1px #258;
		}
	</style>
<body>
	<button>点击发送</button>
	<button>点击取消</button>

	<script>
		// 获取元素
		const btns = document.querySelectorAll('button')
		let x = null

		btns[0].onclick = function(){
			x = new XMLHttpRequest()
			x.open('GET', 'http://127.0.0.1:8000/delay')
			x.send()
		}
		// abort方法 取消请求
		btns[1].onclick = function(){
			x.abort()
		}
	</script>
</body>
</html>